(this["webpackJsonpremote-roofing"]=this["webpackJsonpremote-roofing"]||[]).push([[0],{22:function(e,a,t){e.exports=t(36)},32:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),c=t.n(l),s=t(2),o=(t(32),function(){var e=Object(s.c)(),a=Object(s.d)((function(e){return e.web})),t=a.curPage,l=a.mobileMenu,c=Object(s.d)((function(e){return e.auth})),o=c.auth,i=c.username;return r.a.createElement("nav",{className:"header"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"header-content"},r.a.createElement("h2",null," DEMO Streaming"),r.a.createElement("div",{className:"show-m",onClick:function(){return e({type:"OPENRMOBILEMENU"})}},l?r.a.createElement("i",{className:"fas fa-times"}):r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement("div",{className:"hide-m"},o?r.a.createElement("span",{onClick:function(){return e({type:"LOGOUT"})}}," Log Out "):r.a.createElement(n.Fragment,null,r.a.createElement("span",{onClick:function(){return e({type:"OPENLOGIN"})}}," Log In"),r.a.createElement("button",{onClick:function(){return e({type:"OPENREGISTER"})},className:"btn-gray"}," Start your free trial"))),l&&r.a.createElement("div",{className:"mobile-menu"},r.a.createElement("span",{onClick:function(){return e({type:"OPENLOGIN"})}}," Log In"),r.a.createElement("button",{onClick:function(){return e({type:"OPENREGISTER"})},className:"btn-white"}," Start your free trial")))),r.a.createElement("div",{className:"title-tiles"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h3",null,o&&r.a.createElement("span",null," Hi ",i," ! You are currently at "),"home"===t?"Home":"login"===t?"Login":"series"===t?"Popular Series":"movie"===t?"Popular Movies":"register"===t?"Register Page":null))))}),i=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"footer-nav-links"},r.a.createElement("ul",null,r.a.createElement("li",null," ",r.a.createElement("a",{href:"#"}," Home ")),r.a.createElement("li",null,"|"),r.a.createElement("li",null," ",r.a.createElement("a",{href:"#"}," Terms and Conditions ")),r.a.createElement("li",null,"|"),r.a.createElement("li",null," ",r.a.createElement("a",{href:"#"}," Privacy Policy ")),r.a.createElement("li",null,"|"),r.a.createElement("li",null," ",r.a.createElement("a",{href:"#"}," Collection Statement ")),r.a.createElement("li",null,"|"),r.a.createElement("li",null," ",r.a.createElement("a",{href:"#"}," Help ")),r.a.createElement("li",null,"|"),r.a.createElement("li",null," ",r.a.createElement("a",{href:"#"}," Manage Account ")))),r.a.createElement("div",{className:"footer-copyright"},"Copyright \xa9 2016 ",r.a.createElement("span",{name:"organization"},"DEMO Streaming ")," All Rights Reserved"),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"footer-social-media"},r.a.createElement("ul",null,r.a.createElement("li",null," ",r.a.createElement("a",{href:"#"}," ",r.a.createElement("i",{className:"fab fa-facebook-f"}))),r.a.createElement("li",null," ",r.a.createElement("a",{href:"#"}," ",r.a.createElement("i",{className:"fab fa-twitter"})," ")),r.a.createElement("li",null," ",r.a.createElement("a",{href:"#"}," ",r.a.createElement("i",{className:"fab fa-instagram"}))))),r.a.createElement("div",{className:"footer-apps-downloads"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"assets/ios-icon.svg",alt:"download on App Store"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"#"}," ",r.a.createElement("img",{src:"assets/google-play-badge.png",alt:"download on google play"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"#"}," ",r.a.createElement("img",{src:"assets/en.png",alt:"get it from microsoft"}))))))))},u=t(11),m=t.n(u),d=t(15),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2010,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return function(){var l=Object(d.a)(m.a.mark((function l(c){var s,o,i,u,d,E,f;return m.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return c({type:"LOADING",loading:!0,payload:null}),"series"===n?c({type:"OPENSERIES"}):"movie"===n&&c({type:"OPENMOVIE"}),l.next=4,fetch("https://raw.githubusercontent.com/StreamCo/react-coding-challenge/master/feed/sample.json");case 4:return s=l.sent,l.next=7,s.json();case 7:o=l.sent,i=21*e,u=21*e+21;try{null!==r?d=o.entries.filter((function(e){return e.title.toLowerCase().includes(r.toLowerCase())})):null===r&&(d=o.entries.filter((function(e){return e.programType===n&&e.releaseYear>=t}))),E=Math.ceil(d.length/21),f=[],"asc"===a?f=d.sort((function(e,a){return e.title>a.title?0:-1})):"desc"===a&&(f=d.sort((function(e,a){return e.title>a.title?-1:0}))),f=f.slice(i,u),c({type:"LOADMOVIE",payload:f,filter:n,year:t,curPage:e,totalPage:E,searchQuery:r}),c({type:"LOADING",loading:!1,payload:f})}catch(m){console.error(m),c({type:"LOADFAIL",error:!0})}case 11:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}()},f=function(){var e=Object(s.c)();return r.a.createElement("div",{className:"movie-cards-container"},r.a.createElement("div",{className:"movie-card home-page-card",onClick:function(){return e(E(0,"asc",null,"series"))}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-content-bg"},r.a.createElement("i",{className:"fas fa-film"})),r.a.createElement("div",{className:"card-content-content"},r.a.createElement("h4",null," SERIES"))),r.a.createElement("div",{className:"card-title"},r.a.createElement("h5",null,"Popular Series"))),r.a.createElement("div",{className:"movie-card home-page-card",onClick:function(){return e(E(0,"asc",null,"movie"))}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-content-bg"},r.a.createElement("i",{className:"fas fa-film"})),r.a.createElement("div",{className:"card-content-content"},r.a.createElement("h4",null," MOVIES"))),r.a.createElement("div",{className:"card-title"},r.a.createElement("h5",null,"Popular Movies"))))},p=t(3),h=t(1),g=t(5),b=function(){var e=Object(n.useState)({username:null,password:null}),a=Object(g.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)({username:!1,password:!1}),o=Object(g.a)(c,2),i=o[0],u=o[1],m=Object(s.d)((function(e){return e.auth.failed})),d=function(e){l(Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},e.target.id,e.target.value))),null!==t.username&&u(Object(h.a)(Object(h.a)({},i),{},{username:!1})),null!==t.password&&u(Object(h.a)(Object(h.a)({},i),{},{password:!1}))},E=Object(s.c)();return Object(n.useEffect)((function(){l({username:"",password:""})}),[m>=1]),r.a.createElement("div",{className:"loginContainer"},m>=1&&r.a.createElement("div",{className:"alert-container"}," WRONG CREDENTIAL.  ",m>=2&&"failed attempt: ".concat(m," please check again")," "),r.a.createElement("div",{className:"loginForm"},r.a.createElement("div",{id:"usernameField"},r.a.createElement("label",{for:"username"}," Username:"),r.a.createElement("input",{onChange:function(e){return d(e)},id:"username",type:"text",className:"inputField",placeholder:"Username: helloworld",value:t.username}),i.username&&r.a.createElement("small",{className:"alert"}," Username cannot be empty")),r.a.createElement("div",{id:"passwordField"},r.a.createElement("label",{for:"password"}," Password: "),r.a.createElement("input",{onChange:function(e){return d(e)},id:"password",type:"password",className:"inputField",placeholder:"Password: hw123",value:t.password}),i.password&&r.a.createElement("small",{className:"alert"}," Please input password")),r.a.createElement("button",{className:"btn-gray",onClick:function(){return function(){var e;0===t.username.length&&u((function(e){return Object(h.a)(Object(h.a)({},e),{},{username:!0})})),0===t.password.length&&u((function(e){return Object(h.a)(Object(h.a)({},e),{},{password:!0})})),t.username.length>=1&&t.password.length>=1&&E("helloworld"===(e=t).username&&"hw123"===e.password?{type:"LOGINSUCCESS"}:{type:"LOGINFAIL"})}()}}," Confirm"),r.a.createElement("p",{id:"openRegister",onClick:function(){return E({type:"OPENREGISTER"})}}," New to DEMO? Register for free")))},O=function(){var e,a=Object(s.c)(),t=Object(n.useState)({regUsername:null,regPassword:null}),l=Object(g.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)({username:{error:!1,msg:null},password:{error:!1,msg:null}}),u=Object(g.a)(i,2),m=u[0],d=u[1],E=function(e){o(Object(h.a)(Object(h.a)({},c),{},Object(p.a)({},e.target.id,e.target.value)))},f=c.regUsername,b=c.regPassword;return r.a.createElement("div",{className:"registerContainer"},r.a.createElement("div",{className:"registerForm"},r.a.createElement("div",{id:"regUserField"},r.a.createElement("label",{for:"regUserName"}," Username:"),r.a.createElement("input",{type:"text",className:"inputField",id:"regUsername",placeholder:"username",onChange:function(e){return E(e)}}),m.username.error&&r.a.createElement("small",{className:"alert"}," ",m.username.msg)),r.a.createElement("div",{id:"regPasswordField"},r.a.createElement("label",{for:"regPassword"}," Password:"),r.a.createElement("small",null," minimum 4 characters and combination of number and alphabet "),r.a.createElement("input",(e={id:"regpassword",type:"password",className:"inputField"},Object(p.a)(e,"id","regPassword"),Object(p.a)(e,"placeholder","password"),Object(p.a)(e,"onChange",(function(e){return E(e)})),e)),m.password.error&&r.a.createElement("small",{className:"alert"}," ",m.password.msg)),r.a.createElement("button",{className:"btn-gray",onClick:function(){return null===f&&d((function(e){return Object(h.a)(Object(h.a)({},e),{},{username:{error:!0,msg:"username should not be empty"}})})),null===b&&d((function(e){return Object(h.a)(Object(h.a)({},e),{},{password:{error:!0,msg:"password should not be empty"}})})),null!==f&&f.length<6&&d((function(e){return Object(h.a)(Object(h.a)({},e),{},{username:{error:!0,msg:"username is too short. should be at least 6 characters"}})})),null!==b&&b.length<4?d((function(e){return Object(h.a)(Object(h.a)({},e),{},{password:{error:!0,msg:"password is too short. should be at least 4 characters"}})})):b.length>=4&&!/(?=.*\d)(?=.*[a-z]).{4}/.test(b)?d((function(e){return Object(h.a)(Object(h.a)({},e),{},{password:{error:!0,msg:"please include at least one alphabet and one number"}})})):void a(function(e){return{type:"REGSUCCESS",payload:e}}(f))}}," Register")))},v=t(16),N=t(17),j=t(6),y=t(21),w=t(20),S=(t(34),function(e){Object(y.a)(t,e);var a=Object(w.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).changeHandler=function(e){var a=e.target.value;n.setState((function(e){return Object(h.a)(Object(h.a)({},e),{},{searchQuery:a})}))},n.onSubmitHandler=function(e){e.preventDefault(),console.log(n.state.searchQuery),n.fetchData(0,"asc",null,n.filter,n.state.searchQuery)},n.state={searchQuery:null,loading:null},n.changeHandler=n.changeHandler.bind(Object(j.a)(n)),n.onSubmitHandler=n.onSubmitHandler.bind(Object(j.a)(n)),n.fetchData=n.props.fetchData,n.filter=n.props.filter,n.search=n.props.searchQuery,n.clearSearch=function(){n.fetchData(0,"asc",null,n.filter,null)},n}return Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchbox-container"},null===this.search&&r.a.createElement("form",{onSubmit:this.onSubmitHandler},r.a.createElement("label",{for:"searchInput"}," Search: "),r.a.createElement("input",{id:"searchInput",type:"text",value:this.state.SearchQuery,onChange:this.changeHandler})),null!==this.search&&r.a.createElement(n.Fragment,null,r.a.createElement("p",null," Search Result of ",r.a.createElement("span",{className:"search-em"},this.search)),r.a.createElement("p",null,r.a.createElement("span",{className:"search-no-em",onClick:this.clearSearch}," Clear Search"))))}}]),t}(n.Component)),C=Object(s.b)((function(e){return{filter:e.data.filter,searchQuery:e.data.searchQuery}}),{fetchData:E})(S),P=function(){var e=Object(s.c)(),a=Object(s.d)((function(e){return e.data})),t=a.filter,l=a.sortTitle,c=a.year;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"filterContainer"},r.a.createElement("div",null,r.a.createElement("span",null," Release Year : "),r.a.createElement("span",{onClick:function(){return e(E(0,l,1994,t))}}," 1994 and later "),r.a.createElement("span",{onClick:function(){return e(E(0,l,2e3,t))}},"  2000 and later "),r.a.createElement("span",{onClick:function(){return e(E(0,l,2010,t))}},"  2010 and later "),r.a.createElement("span",{onClick:function(){return e(E(0,l,2015,t))}},"  2015 and later ")),r.a.createElement("div",null,r.a.createElement("span",null," Sort by: "),r.a.createElement("span",{onClick:function(){return e(E(0,"asc",c,t))}}," From A-Z"),r.a.createElement("span",{onClick:function(){return e(E(0,"desc",c,t))}}," From Z -A"))),r.a.createElement(C,null))},I=function(){var e=Object(s.c)(),a=Object(s.d)((function(e){return e.data})),t=a.curPage,n=a.totalPage,l=a.filter,c=a.sortTitle,o=a.year;return r.a.createElement("div",{className:"paginationContainer"},0===t?null:r.a.createElement("div",{className:"prev"},r.a.createElement("span",{onClick:function(){return e(E(t-1,c,o,l))}}," Prev ")),n>1&&t!==n-1&&r.a.createElement("div",{className:"next"},r.a.createElement("span",{onClick:function(){return e(E(t+1,c,o,l))}}," Next")))},k=function(e){var a=e.data;return r.a.createElement("div",{className:"movie-card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"movie-card-image"},r.a.createElement("img",{src:a.images["Poster Art"].url,alt:a.title}))),r.a.createElement("div",{className:"card-title"},r.a.createElement("h5",null," ",a.title)))},L=function(){var e=Object(s.d)((function(e){return e.data})),a=e.loading,t=e.movieData,l=e.error,c=Object(s.c)();return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"contentHead"},r.a.createElement("div",{className:"goBack",onClick:function(){return c({type:"BACKHOME"})}}," Back Home ")),a&&r.a.createElement("h3",null," Loading..."),l&&r.a.createElement("h3",null," Oops. Something went wrong"),null!==t&&r.a.createElement(n.Fragment,null,r.a.createElement(P,null),r.a.createElement("div",{className:"movie-cards-container"},t.map((function(e){return r.a.createElement(k,{key:e.title,data:e})}))),r.a.createElement("div",{className:"contentFoot"},r.a.createElement(I,null))))},R=function(){var e=Object(s.d)((function(e){return e.web.curPage}));return r.a.createElement(n.Fragment,null,"login"===e&&r.a.createElement(b,null),"register"===e&&r.a.createElement(O,null),"home"===e&&r.a.createElement(f,null),"series"===e||"movie"===e?r.a.createElement(L,null):null)};var M=function(){return Object(s.d)((function(e){return e.web.curPage})),r.a.createElement(n.Fragment,null,r.a.createElement(o,null),r.a.createElement("main",{className:"main-content-container"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(R,null))),r.a.createElement(i,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=t(4),D={auth:!1,failed:0,username:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"LOGINSUCCESS":return{failed:0,username:"Hello World",auth:!0};case"LOGINFAIL":return Object(h.a)(Object(h.a)({},e),{},{auth:!1,failed:e.failed+1});case"LOGOUT":return{username:null,failed:0,auth:!1};case"REGSUCCESS":return{username:n,failed:0,auth:!0};default:return e}},A={loading:!1,error:!1,movieData:null,filter:null,curPage:0,sortTitle:"asc",year:null,totalPage:null,searchQuery:null},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload,r=a.loading,l=a.curPage,c=a.error,s=a.filter,o=a.sortTitle,i=a.year,u=a.totalPage,m=a.searchQuery;switch(t){case"LOADMOVIE":return Object(h.a)(Object(h.a)({},e),{},{movieData:n,curPage:l,filter:s,totalPage:u,year:i,sortTitle:o,searchQuery:m});case"LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:r,movieData:n});case"LOADFAIL":return Object(h.a)(Object(h.a)({},e),{},{movieData:null,loading:!1,error:c});default:return e}},H={curPage:"home",mobileMenu:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,a=arguments.length>1?arguments[1]:void 0,t=a.type;switch(t){case"LOGINSUCCESS":case"REGSUCCESS":return Object(h.a)(Object(h.a)({},e),{},{curPage:"home"});case"OPENMOVIE":return Object(h.a)(Object(h.a)({},e),{},{curPage:"movie"});case"OPENSERIES":return Object(h.a)(Object(h.a)({},e),{},{curPage:"series"});case"OPENLOGIN":return{mobileMenu:!1,curPage:"login"};case"OPENREGISTER":return{mobileMenu:!1,curPage:"register"};case"OPENRMOBILEMENU":return Object(h.a)(Object(h.a)({},e),{},{mobileMenu:!e.mobileMenu});case"BACKHOME":return Object(h.a)(Object(h.a)({},e),{},{curPage:"home"});default:return e}},Q=Object(F.combineReducers)({auth:G,data:U,web:T}),x=t(18),B=[t(19).a],V=Object(F.createStore)(Q,{},Object(x.composeWithDevTools)(F.applyMiddleware.apply(void 0,B)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:V},r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.5e14d13f.chunk.js.map